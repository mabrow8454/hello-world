<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Solar System Explorer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #000;
            color: #fff;
            overflow: hidden;
        }

        #container {
            width: 100vw;
            height: 100vh;
        }

        .ui-panel {
            position: fixed;
            background: rgba(10, 10, 20, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 16px;
            color: white;
            z-index: 100;
        }

        .planet-list {
            top: 20px;
            left: 20px;
            max-width: 280px;
            transition: all 0.3s ease;
        }

        .planet-list.minimized {
            max-width: 60px;
            padding: 12px;
        }

        .planet-list.minimized .planet-items,
        .planet-list.minimized .planet-list-title {
            display: none;
        }

        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .planet-list h2 {
            font-size: 18px;
            margin: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .minimize-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0;
            transition: all 0.2s;
        }

        .minimize-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }

        .planet-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px;
            margin-bottom: 6px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .planet-item:hover {
            background: rgba(255, 255, 255, 0.08);
            transform: translateX(4px);
        }

        .planet-item.selected {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.2), rgba(118, 75, 162, 0.2));
            border-color: rgba(102, 126, 234, 0.5);
        }

        .planet-color {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            box-shadow: 0 0 15px currentColor;
        }

        .planet-name {
            font-size: 14px;
            font-weight: 500;
        }

        .controls {
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 12px;
            align-items: center;
            transition: all 0.3s ease;
        }

        .controls.minimized {
            gap: 0;
        }

        .controls.minimized button:not(.minimize-btn) {
            display: none;
        }

        button {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 10px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s;
        }

        button:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.05);
        }

        button.active {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.3), rgba(118, 75, 162, 0.3));
            border-color: rgba(102, 126, 234, 0.5);
        }

        .info-panel {
            top: 20px;
            right: 20px;
            max-width: 300px;
        }

        .info-panel h3 {
            font-size: 20px;
            margin-bottom: 8px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .info-panel p {
            font-size: 13px;
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 12px;
        }

        .stat {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 12px;
        }

        .stat-label {
            color: rgba(255, 255, 255, 0.6);
        }

        .stat-value {
            font-weight: 600;
        }

        .hint {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.7);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            color: #ffd60a;
        }

        @media (max-width: 768px) {
            .planet-list {
                bottom: 80px;
                top: auto;
                left: 10px;
                right: 10px;
                max-width: none;
            }

            .planet-list.minimized {
                max-width: 60px;
                left: 10px;
                right: auto;
            }

            .info-panel {
                top: 20px;
                left: 10px;
                right: 10px;
                max-width: none;
            }

            .info-panel.minimized {
                max-width: 60px;
                right: auto;
            }

            .info-panel.minimized > *:not(.panel-header) {
                display: none;
            }

            .controls {
                bottom: 10px;
            }

            .controls.minimized {
                left: auto;
                right: 10px;
                transform: none;
            }

            .hint {
                display: none;
            }
        }
    </style>
</head>
<body>
    <div id="container"></div>

    <div class="ui-panel planet-list" id="planetListPanel">
        <div class="panel-header">
            <h2 class="planet-list-title">ü™ê Solar System</h2>
            <button class="minimize-btn" id="minimizePlanets">‚àí</button>
        </div>
        <div class="planet-items" id="planetList"></div>
    </div>

    <div class="ui-panel controls" id="controlsPanel">
        <button id="pauseBtn">‚è∏Ô∏è Pause</button>
        <button id="speed1x" class="active">1√ó</button>
        <button id="speed10x">10√ó</button>
        <button id="speed100x">100√ó</button>
        <button class="minimize-btn" id="minimizeControls">‚àí</button>
    </div>

    <div class="ui-panel info-panel" id="infoPanel" style="display: none;">
        <div class="panel-header">
            <h3 id="planetTitle">Earth</h3>
            <button class="minimize-btn" id="minimizeInfo">‚àí</button>
        </div>
        <p id="planetDesc"></p>
        <div id="planetStats"></div>
    </div>

    <div class="hint">Drag to rotate ‚Ä¢ Scroll to zoom ‚Ä¢ Click planets to focus</div>

    <script src="https://cdn.jsdelivr.net/npm/three@0.160.0/build/three.min.js"></script>

    <script>
        // Planet data
        const PLANETS = {
            mercury: { name: 'Mercury', radius: 0.4, distance: 5, orbit: 88, rotation: 58.6, color: '#8C7853', desc: 'The smallest planet and closest to the Sun.' },
            venus: { name: 'Venus', radius: 0.95, distance: 7, orbit: 225, rotation: 243, color: '#FFC649', desc: 'Earth\'s "sister planet" with a thick toxic atmosphere.' },
            earth: { name: 'Earth', radius: 1, distance: 10, orbit: 365, rotation: 1, color: '#4169E1', desc: 'Our home planet with liquid water and life.' },
            mars: { name: 'Mars', radius: 0.5, distance: 15, orbit: 687, rotation: 1.03, color: '#CD5C5C', desc: 'The Red Planet with the largest volcano in the solar system.' },
            jupiter: { name: 'Jupiter', radius: 2.5, distance: 25, orbit: 4333, rotation: 0.41, color: '#DAA520', desc: 'The largest planet, a gas giant with the Great Red Spot.' },
            saturn: { name: 'Saturn', radius: 2.2, distance: 35, orbit: 10759, rotation: 0.45, color: '#F4E3B5', desc: 'The ringed planet with spectacular ice and rock rings.' },
            uranus: { name: 'Uranus', radius: 1.5, distance: 45, orbit: 30687, rotation: 0.72, color: '#4FD0E7', desc: 'The ice giant that rotates on its side.' },
            neptune: { name: 'Neptune', radius: 1.4, distance: 55, orbit: 60190, rotation: 0.67, color: '#4169E1', desc: 'The farthest planet with the fastest winds.' }
        };

        // Scene setup
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true });

        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(window.devicePixelRatio);
        document.getElementById('container').appendChild(renderer.domElement);

        scene.background = new THREE.Color(0x000510);
        camera.position.set(0, 30, 60);

        // Lights
        const sunLight = new THREE.PointLight(0xffffff, 2, 0);
        sunLight.position.set(0, 0, 0);
        scene.add(sunLight);

        const ambientLight = new THREE.AmbientLight(0x404040, 0.3);
        scene.add(ambientLight);

        // Stars
        const starsGeometry = new THREE.BufferGeometry();
        const starsMaterial = new THREE.PointsMaterial({ color: 0xffffff, size: 2 });
        const starsVertices = [];
        for (let i = 0; i < 1000; i++) {
            starsVertices.push(
                (Math.random() - 0.5) * 500,
                (Math.random() - 0.5) * 500,
                (Math.random() - 0.5) * 500
            );
        }
        starsGeometry.setAttribute('position', new THREE.Float32BufferAttribute(starsVertices, 3));
        scene.add(new THREE.Points(starsGeometry, starsMaterial));

        // Sun
        const sunGeometry = new THREE.SphereGeometry(3, 32, 32);
        const sunMaterial = new THREE.MeshBasicMaterial({
            color: 0xFDB813,
            emissive: 0xFDB813,
            emissiveIntensity: 1
        });
        const sun = new THREE.Mesh(sunGeometry, sunMaterial);
        scene.add(sun);

        // Sun glow
        const glowGeometry = new THREE.SphereGeometry(3.2, 32, 32);
        const glowMaterial = new THREE.MeshBasicMaterial({
            color: 0xFDB813,
            transparent: true,
            opacity: 0.3
        });
        const glow = new THREE.Mesh(glowGeometry, glowMaterial);
        scene.add(glow);

        // Create planets
        const planetMeshes = {};
        const orbitLines = {};

        Object.keys(PLANETS).forEach(id => {
            const planet = PLANETS[id];

            // Orbit line
            const orbitGeometry = new THREE.BufferGeometry();
            const orbitPoints = [];
            for (let i = 0; i <= 64; i++) {
                const angle = (i / 64) * Math.PI * 2;
                orbitPoints.push(
                    Math.cos(angle) * planet.distance,
                    0,
                    Math.sin(angle) * planet.distance
                );
            }
            orbitGeometry.setAttribute('position', new THREE.Float32BufferAttribute(orbitPoints, 3));
            const orbitMaterial = new THREE.LineBasicMaterial({
                color: 0xffffff,
                transparent: true,
                opacity: 0.2
            });
            const orbitLine = new THREE.Line(orbitGeometry, orbitMaterial);
            scene.add(orbitLine);
            orbitLines[id] = orbitLine;

            // Planet
            const geometry = new THREE.SphereGeometry(planet.radius, 32, 32);
            const material = new THREE.MeshStandardMaterial({
                color: planet.color,
                metalness: 0,
                roughness: 0.8
            });
            const mesh = new THREE.Mesh(geometry, material);
            mesh.userData = { id, angle: Math.random() * Math.PI * 2 };
            scene.add(mesh);
            planetMeshes[id] = mesh;

            // Special: Saturn rings
            if (id === 'saturn') {
                const ringGeometry = new THREE.RingGeometry(3, 5, 64);
                const ringMaterial = new THREE.MeshBasicMaterial({
                    color: 0xC9B887,
                    side: THREE.DoubleSide,
                    transparent: true,
                    opacity: 0.6
                });
                const ring = new THREE.Mesh(ringGeometry, ringMaterial);
                ring.rotation.x = Math.PI / 2;
                mesh.add(ring);
            }
        });

        // Controls
        let isPaused = false;
        let timeSpeed = 1;
        let selectedPlanet = null;

        let isDragging = false;
        let previousMouse = { x: 0, y: 0 };
        let cameraAngleX = 0;
        let cameraAngleY = Math.atan2(30, 60);
        let cameraDistance = 70;

        // Mouse controls
        renderer.domElement.addEventListener('mousedown', (e) => {
            isDragging = true;
            previousMouse = { x: e.clientX, y: e.clientY };
        });

        renderer.domElement.addEventListener('mousemove', (e) => {
            if (isDragging) {
                const deltaX = e.clientX - previousMouse.x;
                const deltaY = e.clientY - previousMouse.y;
                cameraAngleX -= deltaX * 0.005;
                cameraAngleY += deltaY * 0.005;
                cameraAngleY = Math.max(-Math.PI / 2 + 0.1, Math.min(Math.PI / 2 - 0.1, cameraAngleY));
                previousMouse = { x: e.clientX, y: e.clientY };
            }
        });

        renderer.domElement.addEventListener('mouseup', () => isDragging = false);
        renderer.domElement.addEventListener('mouseleave', () => isDragging = false);

        // Touch controls
        let touchStartDistance = 0;
        let touchStartCameraDistance = 70;

        function getTouchDistance(touch1, touch2) {
            const dx = touch1.clientX - touch2.clientX;
            const dy = touch1.clientY - touch2.clientY;
            return Math.sqrt(dx * dx + dy * dy);
        }

        renderer.domElement.addEventListener('touchstart', (e) => {
            if (e.touches.length === 2) {
                touchStartDistance = getTouchDistance(e.touches[0], e.touches[1]);
                touchStartCameraDistance = cameraDistance;
            } else if (e.touches.length === 1) {
                isDragging = true;
                previousMouse = { x: e.touches[0].clientX, y: e.touches[0].clientY };
            }
        });

        renderer.domElement.addEventListener('touchmove', (e) => {
            e.preventDefault();
            if (e.touches.length === 2) {
                const currentDistance = getTouchDistance(e.touches[0], e.touches[1]);
                const scale = touchStartDistance / currentDistance;
                cameraDistance = touchStartCameraDistance * scale;
                cameraDistance = Math.max(20, Math.min(150, cameraDistance));
            } else if (e.touches.length === 1 && isDragging) {
                const deltaX = e.touches[0].clientX - previousMouse.x;
                const deltaY = e.touches[0].clientY - previousMouse.y;
                cameraAngleX -= deltaX * 0.01;
                cameraAngleY += deltaY * 0.01;
                cameraAngleY = Math.max(-Math.PI / 2 + 0.1, Math.min(Math.PI / 2 - 0.1, cameraAngleY));
                previousMouse = { x: e.touches[0].clientX, y: e.touches[0].clientY };
            }
        }, { passive: false });

        renderer.domElement.addEventListener('touchend', () => isDragging = false);

        // Scroll zoom
        renderer.domElement.addEventListener('wheel', (e) => {
            e.preventDefault();
            const delta = e.deltaY > 0 ? 1.1 : 0.9;
            cameraDistance *= delta;
            cameraDistance = Math.max(20, Math.min(150, cameraDistance));
        }, { passive: false });

        // UI
        const planetListEl = document.getElementById('planetList');
        Object.keys(PLANETS).forEach(id => {
            const planet = PLANETS[id];
            const item = document.createElement('div');
            item.className = 'planet-item';
            item.innerHTML = `
                <div class="planet-color" style="background-color: ${planet.color}"></div>
                <div class="planet-name">${planet.name}</div>
            `;
            item.addEventListener('click', () => selectPlanet(id));
            planetListEl.appendChild(item);
        });

        function selectPlanet(id) {
            selectedPlanet = id;
            document.querySelectorAll('.planet-item').forEach((el, i) => {
                el.classList.toggle('selected', Object.keys(PLANETS)[i] === id);
            });

            const planet = PLANETS[id];
            const infoPanel = document.getElementById('infoPanel');
            infoPanel.style.display = 'block';
            document.getElementById('planetTitle').textContent = planet.name;
            document.getElementById('planetDesc').textContent = planet.desc;
            document.getElementById('planetStats').innerHTML = `
                <div class="stat">
                    <span class="stat-label">Radius</span>
                    <span class="stat-value">${planet.radius.toFixed(2)} √ó Earth</span>
                </div>
                <div class="stat">
                    <span class="stat-label">Orbital Period</span>
                    <span class="stat-value">${planet.orbit} days</span>
                </div>
                <div class="stat">
                    <span class="stat-label">Day Length</span>
                    <span class="stat-value">${planet.rotation.toFixed(2)} Earth days</span>
                </div>
            `;
        }

        document.getElementById('pauseBtn').addEventListener('click', (e) => {
            isPaused = !isPaused;
            e.target.textContent = isPaused ? '‚ñ∂Ô∏è Play' : '‚è∏Ô∏è Pause';
        });

        document.getElementById('speed1x').addEventListener('click', () => {
            timeSpeed = 1;
            document.querySelectorAll('.controls button').forEach(b => b.classList.remove('active'));
            document.getElementById('speed1x').classList.add('active');
        });

        document.getElementById('speed10x').addEventListener('click', () => {
            timeSpeed = 10;
            document.querySelectorAll('.controls button').forEach(b => b.classList.remove('active'));
            document.getElementById('speed10x').classList.add('active');
        });

        document.getElementById('speed100x').addEventListener('click', () => {
            timeSpeed = 100;
            document.querySelectorAll('.controls button').forEach(b => b.classList.remove('active'));
            document.getElementById('speed100x').classList.add('active');
        });

        // Minimize controls
        document.getElementById('minimizePlanets').addEventListener('click', (e) => {
            const panel = document.getElementById('planetListPanel');
            const btn = e.target;
            panel.classList.toggle('minimized');
            btn.textContent = panel.classList.contains('minimized') ? '+' : '‚àí';
        });

        document.getElementById('minimizeControls').addEventListener('click', (e) => {
            const panel = document.getElementById('controlsPanel');
            const btn = e.target;
            panel.classList.toggle('minimized');
            btn.textContent = panel.classList.contains('minimized') ? '+' : '‚àí';
        });

        document.getElementById('minimizeInfo').addEventListener('click', (e) => {
            const panel = document.getElementById('infoPanel');
            const btn = e.target;
            panel.classList.toggle('minimized');
            btn.textContent = panel.classList.contains('minimized') ? '+' : '‚àí';
        });

        // Animation
        function animate() {
            requestAnimationFrame(animate);

            // Update planets
            if (!isPaused) {
                Object.keys(planetMeshes).forEach(id => {
                    const planet = PLANETS[id];
                    const mesh = planetMeshes[id];

                    mesh.userData.angle += (Math.PI * 2 / planet.orbit) * 0.01 * timeSpeed;
                    mesh.position.x = Math.cos(mesh.userData.angle) * planet.distance;
                    mesh.position.z = Math.sin(mesh.userData.angle) * planet.distance;
                    mesh.rotation.y += 0.01 / planet.rotation;
                });

                sun.rotation.y += 0.001;
                glow.rotation.y += 0.001;
            }

            // Update camera
            if (selectedPlanet && planetMeshes[selectedPlanet]) {
                const targetPos = planetMeshes[selectedPlanet].position;
                const currentLookAt = new THREE.Vector3();
                camera.getWorldDirection(currentLookAt);
                currentLookAt.multiplyScalar(cameraDistance).add(camera.position);
                currentLookAt.lerp(targetPos, 0.05);

                const desiredDistance = PLANETS[selectedPlanet].radius * 8 + 10;
                cameraDistance += (desiredDistance - cameraDistance) * 0.05;
            }

            camera.position.x = cameraDistance * Math.sin(cameraAngleX) * Math.cos(cameraAngleY);
            camera.position.y = cameraDistance * Math.sin(cameraAngleY);
            camera.position.z = cameraDistance * Math.cos(cameraAngleX) * Math.cos(cameraAngleY);

            if (selectedPlanet && planetMeshes[selectedPlanet]) {
                camera.lookAt(planetMeshes[selectedPlanet].position);
            } else {
                camera.lookAt(0, 0, 0);
            }

            renderer.render(scene, camera);
        }

        // Resize
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        animate();
    </script>
</body>
</html>
